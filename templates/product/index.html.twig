{% extends "base.html.twig" %}

{% block title %}
	Klakier's AllegroApp - Products
{% endblock %}

{% block body %}
	<div class="bd-title h2 m-2">
		Products
	</div>
	{% for message in app.flashes('success') %}
		<div class="alert alert-warning mt-3">
			{{ message }}
		</div>
	{% endfor %}
	<div class="butons">
		<button type="button" class="d-inline-block btn btn-primary mx-2 my-1 my-0-sm" onclick="location.href='{{ path('product-create') }}'">Add</button>
		<button type="button" class="d-inline-block btn btn-primary mx-2 my-1 my-0-sm" onclick="location.href='{{ path('product-create-random') }}'">Add random</button>
	</div>
	<div class="table-responsive">
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Id</th>
					<th scope="col">Name</th>
					<th scope="col" class="text-end">Price</th>
					<th scope="col">Category Id</th>
					<th scope="col">Shipping Rates</th>
					<th scope="col">Stock</th>
					<th scope="col">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for product in products %}
					<tr>
						<td class="align-middle">{{product.id}}</td>
						<td class="align-middle">{{product.name}}</td>
						<td class="text-end align-middle">{{product.price|number_format(2)}}</td>
						<td class="align-middle">{{product.category}}</td>
						<td class="align-middle">{{product.shippingRates}}</td>
						<td class="align-middle">{{product.stock}}</td>
						<td class="justify-content-center py-1">
							<button type="button" class="d-inline-block btn btn-success mx-2 my-1 my-0-sm" onclick="location.href='{{ path('product-show-single', {id: product.id})}}'">Show</button>
							<button type="button" class="d-inline-block btn btn-danger mx-2" onclick="location.href='{{ path('product-delete-single', {id: product.id})}}'">Delete</button>
						</td>
					</tr>
				{% endfor %}
			</tbody>

		</table>
	</div>
{% endblock %}
